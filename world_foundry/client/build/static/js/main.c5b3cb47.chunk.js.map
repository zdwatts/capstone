{"version":3,"sources":["services/auth.js","components/auth/LoginForm.js","components/auth/SignUpForm.js","components/auth/ProtectedRoute.js","components/LandingPage.js","components/auth/LogoutButton.js","components/auth/DemoButton.js","components/NavBar.js","components/DocumentEditor.js","components/Directories.js","components/UpdateDocument.js","components/Document.js","App.js","index.js"],"names":["authenticate","a","fetch","headers","response","json","login","email","password","method","body","JSON","stringify","demo","logout","signUp","username","LoginForm","authenticated","setAuthenticated","useState","errors","setErrors","setEmail","setPassword","onLogin","e","preventDefault","user","to","className","onSubmit","map","error","name","type","value","onChange","target","href","SignUpForm","setUsername","confirmPassword","setConfirmPassword","onSignUp","required","ProtectedRoute","props","children","LandingPage","currentUser","setCurrentUser","useEffect","greeting","LogoutButton","history","useHistory","onLogout","push","window","location","reload","onClick","DemoButton","demoLogin","NavBar","style","textDecoration","fontFamily","exact","activeClassName","DocumentEditor","title","setTitle","setBody","directories","setDirectories","parentDirectory","setParentDirectory","apiKey","process","REACT_APP_TINY_MCE","axios","get","res","directoriesArray","data","addDocument","ok","documentId","id","directory","plugins","onEditorChange","content","editor","Directories","root","setRoot","showForm","setShowForm","directoryName","setDirectoryName","documents","setDocuments","rootDirectory","addDirectory","post","classes","makeStyles","height","flexGrow","maxWidth","useStyles","TreeView","defaultCollapseIcon","defaultExpanded","defaultExpandIcon","renderTree","TreeItem","nodeId","label","Array","isArray","filter","document","directory_id","UpdateDocument","newTitle","setNewTitle","newBody","setNewBody","showEditor","setShowEditor","useParams","handleEdit","request","put","Document","setDocument","deleteDocument","delete","parse","App","loaded","setLoaded","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c5b3cb47.chunk.js","sourcesContent":["export const authenticate = async () => {\n\tconst response = await fetch(\"/api/auth/\", {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\treturn await response.json();\n};\n\nexport const login = async (email, password) => {\n\tconst response = await fetch(\"/api/auth/login\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail,\n\t\t\tpassword,\n\t\t}),\n\t});\n\treturn await response.json();\n};\n\nexport const demo = async (email = \"demo@aa.io\", password = \"password\") => {\n\tconst response = await fetch(\"/api/auth/login\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\temail,\n\t\t\tpassword,\n\t\t}),\n\t});\n\treturn await response.json();\n};\n\nexport const logout = async () => {\n\tconst response = await fetch(\"/api/auth/logout\", {\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t});\n\treturn await response.json();\n};\n\nexport const signUp = async (username, email, password) => {\n\tconst response = await fetch(\"/api/auth/signup\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\tusername,\n\t\t\temail,\n\t\t\tpassword,\n\t\t}),\n\t});\n\treturn await response.json();\n};\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { login } from \"../../services/auth\";\nimport \"../styles/LoginForm.css\";\n\nconst LoginForm = ({ authenticated, setAuthenticated }) => {\n\tconst [errors, setErrors] = useState([]);\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\tconst onLogin = async (e) => {\n\t\te.preventDefault();\n\t\tconst user = await login(email, password);\n\t\tif (!user.errors) {\n\t\t\tsetAuthenticated(true);\n\t\t} else {\n\t\t\tsetErrors(user.errors);\n\t\t}\n\t};\n\n\tconst updateEmail = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tconst updatePassword = (e) => {\n\t\tsetPassword(e.target.value);\n\t};\n\n\tif (authenticated) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\treturn (\n\t\t<div className=\"login-form-wrapper\">\n\t\t\t<form onSubmit={onLogin} className=\"login-form\">\n\t\t\t\t<div className=\"errors-wrapper\">\n\t\t\t\t\t{errors.map((error) => (\n\t\t\t\t\t\t<div className=\"errors\">\n\t\t\t\t\t\t\t<p className=\"error\">{error}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<h1 className=\"form-title\">World Foundry</h1>\n\t\t\t\t\t<h3 className=\"form-subtitle\">Log In</h3>\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={updateEmail}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\tonChange={updatePassword}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button type=\"submit\" className=\"login-button\">\n\t\t\t\t\tLogin\n\t\t\t\t</button>\n\t\t\t\t<p className=\"cta\">\n\t\t\t\t\tNot a member?{\" \"}\n\t\t\t\t\t<a className=\"cta-link\" href=\"/signup\">\n\t\t\t\t\t\tRegister here\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { signUp } from \"../../services/auth\";\nimport \"../styles/SignUpForm.css\";\n\nconst SignUpForm = ({ authenticated, setAuthenticated }) => {\n\tconst [username, setUsername] = useState(\"\");\n\tconst [email, setEmail] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [confirmPassword, setConfirmPassword] = useState(\"\");\n\n\tconst onSignUp = async (e) => {\n\t\te.preventDefault();\n\t\tif (password === confirmPassword) {\n\t\t\tconst user = await signUp(username, email, password);\n\t\t\tif (!user.errors) {\n\t\t\t\tsetAuthenticated(true);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst updateUsername = (e) => {\n\t\tsetUsername(e.target.value);\n\t};\n\n\tconst updateEmail = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tconst updatePassword = (e) => {\n\t\tsetPassword(e.target.value);\n\t};\n\n\tconst updateConfirmPassword = (e) => {\n\t\tsetConfirmPassword(e.target.value);\n\t};\n\n\tif (authenticated) {\n\t\treturn <Redirect to=\"/\" />;\n\t}\n\n\treturn (\n\t\t<div className=\"signup-form-wrapper\">\n\t\t\t<form onSubmit={onSignUp} className=\"signup-form\">\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<h1 className=\"form-title\">World Foundry</h1>\n\t\t\t\t\t<h3 className=\"form-subtitle\">Sign Up</h3>\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tonChange={updateUsername}\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<label>Email</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"Email\"\n\t\t\t\t\t\tonChange={updateEmail}\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<label>Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tonChange={updatePassword}\n\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t<label>Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"input\"\n\t\t\t\t\t\trequired={true}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"confirm-password\"\n\t\t\t\t\t\tonChange={updateConfirmPassword}\n\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button type=\"submit\" className=\"signup-button\">\n\t\t\t\t\tSign Up\n\t\t\t\t</button>\n\t\t\t\t<p className=\"cta\">\n\t\t\t\t\tAlready registered?{\" \"}\n\t\t\t\t\t<a className=\"cta-link\" href=\"/login\">\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default SignUpForm;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nconst ProtectedRoute = (props) => {\n\treturn (\n\t\t<Route {...props}>\n\t\t\t{props.authenticated ? props.children : <Redirect to=\"/login\" />}\n\t\t</Route>\n\t);\n};\nexport default ProtectedRoute;\n","import React, { useState, useEffect } from \"react\";\nimport { authenticate } from \"../services/auth\";\nimport \"./styles/LandingPage.css\";\n\nconst LandingPage = ({ authenticated }) => {\n\tconst [currentUser, setCurrentUser] = useState(\"\");\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst response = await authenticate();\n\t\t\tconst user = response.username;\n\t\t\tsetCurrentUser(user);\n\t\t})();\n\t});\n\n\tconst greeting = () => {\n\t\tlet greeting;\n\t\tif (authenticated) {\n\t\t\tgreeting = currentUser;\n\t\t} else {\n\t\t\tgreeting = \"friend\";\n\t\t}\n\t\treturn greeting;\n\t};\n\n\treturn (\n\t\t<div className=\"content-wrapper\">\n\t\t\t<div className=\"greeting-wrapper\">\n\t\t\t\t<h1 className=\"greeting\">Greetings, {greeting()}.</h1>\n\t\t\t\t{authenticated ? (\n\t\t\t\t\t<p className=\"greeting-body\">\n\t\t\t\t\t\tClick on the directories link to view your directories and\n\t\t\t\t\t\tdocuments, or click \"Write\" to create a new document.\n\t\t\t\t\t</p>\n\t\t\t\t) : (\n\t\t\t\t\t<p className=\"greeting-body\">\n\t\t\t\t\t\tWelcome to World Foundry. This is a place for those who wish to take\n\t\t\t\t\t\ttheir worlds to the next level. It is here that you will cultivate\n\t\t\t\t\t\treal, living people, things and places from nothing more than the\n\t\t\t\t\t\twritten word. World Foundry will help you turn your entirely\n\t\t\t\t\t\timagined creations into something indistinguishable from reality for\n\t\t\t\t\t\tboth yourself and your readers. Feel free to try the demo login to\n\t\t\t\t\t\tget a feel for how the app works, or create an account and get\n\t\t\t\t\t\tstarted.\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LandingPage;\n","import React from \"react\";\nimport { logout } from \"../../services/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport \"../styles/NavBar.css\";\n\nconst LogoutButton = ({ setAuthenticated, authenticated }) => {\n\tconst history = useHistory();\n\n\tconst onLogout = async (e) => {\n\t\tawait logout();\n\t\tsetAuthenticated(false);\n\t\thistory.push(\"/\");\n\t\twindow.location.reload(false);\n\t};\n\n\treturn authenticated ? (\n\t\t<button className=\"buttons\" onClick={onLogout}>\n\t\t\t{authenticated ? \"Logout\" : \"Login\"}\n\t\t</button>\n\t) : (\n\t\t\"\"\n\t);\n};\n\nexport default LogoutButton;\n","import React from \"react\";\nimport { demo } from \"../../services/auth\";\nimport \"../styles/NavBar.css\";\n\nconst DemoButton = ({ setAuthenticated, authenticated }) => {\n\tconst demoLogin = async (e) => {\n\t\tawait demo();\n\t\tsetAuthenticated(true);\n\t\twindow.location.reload(false);\n\t};\n\n\treturn authenticated ? (\n\t\t\"\"\n\t) : (\n\t\t<button className=\"buttons\" onClick={demoLogin}>\n\t\t\tDemo Login\n\t\t</button>\n\t);\n};\n\nexport default DemoButton;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport LogoutButton from \"./auth/LogoutButton\";\nimport DemoButton from \"./auth/DemoButton\";\nimport \"./styles/NavBar.css\";\n\nconst NavBar = ({ setAuthenticated, authenticated, authenticate }) => {\n\treturn (\n\t\t<nav className=\"navbar\">\n\t\t\t<div className=\"main-logo\">\n\t\t\t\t<a href=\"/\" style={{ textDecoration: \"none\" }}>\n\t\t\t\t\t<h1\n\t\t\t\t\t\tclassName=\"logo-text\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tfontFamily: \"Permanent Marker, cursive\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tWorld Foundry\n\t\t\t\t\t</h1>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div className=\"links-wrapper\">\n\t\t\t\t<ul className=\"nav-links\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<NavLink exact to=\"/\">\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t\t{authenticated ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<NavLink to=\"/documents\" activeClassName=\"active\">\n\t\t\t\t\t\t\t\t\tWrite\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<NavLink to=\"/directories\" activeClassName=\"active\">\n\t\t\t\t\t\t\t\t\tDirectories\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<LogoutButton\n\t\t\t\t\t\t\t\t\tsetAuthenticated={setAuthenticated}\n\t\t\t\t\t\t\t\t\tauthenticated={authenticated}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<NavLink to=\"/login\" activeClassName=\"active\">\n\t\t\t\t\t\t\t\t\tLog In\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<NavLink to=\"/signup\" activeClassName=\"active\">\n\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<DemoButton\n\t\t\t\t\t\t\t\t\tsetAuthenticated={setAuthenticated}\n\t\t\t\t\t\t\t\t\tauthenticated={authenticated}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default NavBar;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport axios from \"axios\";\nimport \"./styles/DocumentEditor.css\";\n\nconst DocumentEditor = ({ authenticate }) => {\n\tconst [title, setTitle] = useState(\"\");\n\tconst [body, setBody] = useState(\"\");\n\tconst [directories, setDirectories] = useState([]);\n\tconst [parentDirectory, setParentDirectory] = useState([]);\n\tconst history = useHistory();\n\n\tconst apiKey = process.env.REACT_APP_TINY_MCE;\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst res = await axios.get(\"/api/directories/all\");\n\t\t\tconst directoriesArray = res.data.directories;\n\t\t\tsetDirectories(directoriesArray);\n\t\t})();\n\t}, []);\n\n\tconst titleChange = (e) => {\n\t\tsetTitle(e.target.value);\n\t};\n\n\tconst handleEditorChange = (content, editor) => {\n\t\tsetBody(content);\n\t};\n\n\tconst parentDirectoryChange = (e) => {\n\t\tsetParentDirectory(e.target.value);\n\t};\n\n\tconst addDocument = async (e) => {\n\t\te.preventDefault();\n\n\t\tconst response = await fetch(\"/api/documents\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\ttitle,\n\t\t\t\tbody,\n\t\t\t\t\"parent-directory\": parentDirectory,\n\t\t\t}),\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\tconst data = await response.json();\n\t\t\tconst documentId = data.id;\n\t\t\thistory.push(`/documents/${documentId}`);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"content-wrapper\">\n\t\t\t<div className=\"form-wrapper\">\n\t\t\t\t<h1 className=\"form-title\">Write</h1>\n\t\t\t\t<form onSubmit={addDocument}>\n\t\t\t\t\t<div className=\"title-wrapper\">\n\t\t\t\t\t\t<label>Document Title</label>\n\t\t\t\t\t\t<input type=\"text\" name=\"title\" required onChange={titleChange} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"parent-directory-wrapper\">\n\t\t\t\t\t\t<label>Parent Directory</label>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tname=\"parent-directory\"\n\t\t\t\t\t\t\tonChange={parentDirectoryChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{directories.map((directory) => (\n\t\t\t\t\t\t\t\t<option key={directory.id}>{directory.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Editor\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tapiKey={apiKey}\n\t\t\t\t\t\tplugins=\"wordcount wordcount fullscreen image preview\"\n\t\t\t\t\t\tonEditorChange={handleEditorChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"button-wrapper\">\n\t\t\t\t\t\t<button type=\"submit\" className=\"submit-button\">\n\t\t\t\t\t\t\tAdd Document\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default DocumentEditor;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport \"./styles/Directories.css\";\n\nconst Directories = () => {\n\tconst [root, setRoot] = useState([]);\n\tconst [showForm, setShowForm] = useState(false);\n\tconst [directories, setDirectories] = useState([]);\n\tconst [parentDirectory, setParentDirectory] = useState(\"\");\n\tconst [directoryName, setDirectoryName] = useState(\"\");\n\tconst [documents, setDocuments] = useState([]);\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst res = await axios.get(\"/api/directories/\");\n\t\t\tconst rootDirectory = res.data.root;\n\t\t\tsetRoot(rootDirectory);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst res = await axios.get(\"/api/directories/all\");\n\t\t\tconst directoriesArray = res.data.directories;\n\t\t\tsetDirectories(directoriesArray);\n\t\t\tsetParentDirectory(directoriesArray[0].id);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst res = await axios.get(\"/api/documents/\");\n\t\t\tsetDocuments(res.data.documents);\n\t\t})();\n\t}, []);\n\n\tconst parentDirectoryChange = (e) => {\n\t\tsetParentDirectory(e.target.value);\n\t};\n\n\tconst directoryNameChange = (e) => {\n\t\tsetDirectoryName(e.target.value);\n\t};\n\n\tconst addDirectory = async (e) => {\n\t\te.preventDefault();\n\n\t\tconst response = await axios.post(\"/api/directories/\", {\n\t\t\t\"parent-directory\": parentDirectory,\n\t\t\t\"directory-name\": directoryName,\n\t\t});\n\n\t\tif (response.ok) {\n\t\t\thistory.push(`/directories/`);\n\t\t}\n\t};\n\n\tconst useStyles = makeStyles({\n\t\troot: {\n\t\t\theight: 110,\n\t\t\tflexGrow: 1,\n\t\t\tmaxWidth: 400,\n\t\t},\n\t});\n\n\tconst classes = useStyles();\n\n\t// <TreeItem\n\t// \t\tkey={document.id}\n\t// \t\tnodeId={document.id}\n\t// \t\tlabel={document.name}\n\t// \t/>\n\n\tconst renderTree = (root) => (\n\t\t<TreeItem key={root.id} nodeId={root.id} label={root.name}>\n\t\t\t{Array.isArray(root.children)\n\t\t\t\t? root.children.map((directory) => renderTree(directory))\n\t\t\t\t: null}\n\t\t\t{documents\n\t\t\t\t.filter((document) => document.directory_id === root.id)\n\t\t\t\t.map((document) => (\n\t\t\t\t\t<TreeItem\n\t\t\t\t\t\tkey={document.id}\n\t\t\t\t\t\tnodeId={`${root.id}-${document.id}`}\n\t\t\t\t\t\tlabel={document.title}\n\t\t\t\t\t\tonClick={() => history.push(`documents/${document.id}`)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t</TreeItem>\n\t);\n\n\treturn (\n\t\t<div className=\"page-wrapper\">\n\t\t\t<div className=\"header-wrapper\">\n\t\t\t\t<h1>Directories</h1>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclassName=\"buttons\"\n\t\t\t\t\tonClick={() => setShowForm(!showForm)}\n\t\t\t\t>\n\t\t\t\t\tAdd New Directory\n\t\t\t\t</button>\n\t\t\t\t{showForm ? (\n\t\t\t\t\t<form onSubmit={addDirectory} className=\"new-directory-form\">\n\t\t\t\t\t\t<div className=\"inputs-wrapper\">\n\t\t\t\t\t\t\t<label>Parent Directory</label>\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname=\"parent-directory\"\n\t\t\t\t\t\t\t\tonChange={parentDirectoryChange}\n\t\t\t\t\t\t\t\tvalue={parentDirectory}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{directories.map((directory) => (\n\t\t\t\t\t\t\t\t\t<option value={directory.id}>{directory.name}</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\n\t\t\t\t\t\t\t<label>Directory Name</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"directory-name\"\n\t\t\t\t\t\t\t\tonChange={directoryNameChange}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button type=\"submit\" className=\"buttons\">\n\t\t\t\t\t\t\tAdd Directory\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<TreeView\n\t\t\t\t\tclassName={classes.root}\n\t\t\t\t\tdefaultCollapseIcon={<ExpandMoreIcon />}\n\t\t\t\t\tdefaultExpanded={[\"root\"]}\n\t\t\t\t\tdefaultExpandIcon={<ChevronRightIcon />}\n\t\t\t\t>\n\t\t\t\t\t{renderTree(root)}\n\t\t\t\t</TreeView>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Directories;\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport Document from \"./Document\";\nimport \"./styles/Document.css\";\n\nconst UpdateDocument = ({ title, body }) => {\n\tconst [newTitle, setNewTitle] = useState(title);\n\tconst [newBody, setNewBody] = useState(body);\n\tconst [showEditor, setShowEditor] = useState(false);\n\n\tconst { id } = useParams();\n\n\tconst apiKey = process.env.REACT_APP_TINY_MCE;\n\n\tconst handleTitleChange = (e) => {\n\t\tsetNewTitle(e.target.value);\n\t};\n\n\tconst handleEditorChange = (content, editor) => {\n\t\tsetNewBody(content);\n\t};\n\n\tconst handleEdit = async () => {\n\t\tconst request = { title: newTitle, body: newBody };\n\t\tawait axios.put(`/api/documents/${id}`, request);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{showEditor ? (\n\t\t\t\t<Document />\n\t\t\t) : (\n\t\t\t\t<div className=\"form-wrapper\">\n\t\t\t\t\t<form onSubmit={handleEdit}>\n\t\t\t\t\t\t<div className=\"title-wrapper\">\n\t\t\t\t\t\t\t<label>New Title</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tvalue={newTitle}\n\t\t\t\t\t\t\t\tonChange={handleTitleChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Editor\n\t\t\t\t\t\t\tvalue={newBody}\n\t\t\t\t\t\t\tapiKey={apiKey}\n\t\t\t\t\t\t\tplugins=\"wordcount wordcount fullscreen image preview\"\n\t\t\t\t\t\t\tonEditorChange={handleEditorChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"buttons-wrapper\">\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"buttons\">\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<div className=\"buttons-wrapper\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"buttons\"\n\t\t\t\t\t\t\tonClick={() => setShowEditor(!showEditor)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default UpdateDocument;\n","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport parse from \"html-react-parser\";\nimport UpdateDocument from \"./UpdateDocument\";\nimport \"./styles/Document.css\";\n\nconst Document = ({ authenticate }) => {\n\tconst [document, setDocument] = useState(\"\");\n\tconst [showEditor, setShowEditor] = useState(false);\n\tconst history = useHistory();\n\n\tconst { id } = useParams();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst response = await axios.get(`/api/documents/${id}`);\n\t\t\tconst data = response.data;\n\t\t\tsetDocument(data.document);\n\t\t})();\n\t}, [id]);\n\n\tconst title = document.title;\n\tconst body = document.body;\n\n\tconst deleteDocument = async (id) => {\n\t\tawait axios.delete(`/api/documents/${id}`);\n\t\thistory.push(\"/directories\");\n\t};\n\n\treturn (\n\t\t<div className=\"content-wrapper\">\n\t\t\t{showEditor ? (\n\t\t\t\t<UpdateDocument title={title} body={body} />\n\t\t\t) : (\n\t\t\t\t<div className=\"document-wrapper\">\n\t\t\t\t\t<div className=\"title-wrapper\">\n\t\t\t\t\t\t<h1>{document.title}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"body-wrapper\">\n\t\t\t\t\t\t{document.body && parse(document.body)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"buttons-wrapper\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"buttons\"\n\t\t\t\t\t\t\tonClick={() => deleteDocument(document.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"buttons\"\n\t\t\t\t\t\t\tonClick={() => setShowEditor(!showEditor)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Document;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { authenticate } from \"./services/auth\";\n\nimport LoginForm from \"./components/auth/LoginForm\";\nimport SignUpForm from \"./components/auth/SignUpForm\";\nimport ProtectedRoute from \"./components/auth/ProtectedRoute\";\nimport LandingPage from \"./components/LandingPage\";\nimport NavBar from \"./components/NavBar\";\nimport DocumentEditor from \"./components/DocumentEditor\";\nimport Directories from \"./components/Directories\";\nimport Document from \"./components/Document\";\n\nfunction App() {\n\tconst [authenticated, setAuthenticated] = useState(false);\n\tconst [loaded, setLoaded] = useState(false);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst user = await authenticate();\n\t\t\tif (!user.errors) {\n\t\t\t\tsetAuthenticated(true);\n\t\t\t}\n\t\t\tsetLoaded(true);\n\t\t})();\n\t}, []);\n\n\tif (!loaded) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<NavBar\n\t\t\t\tsetAuthenticated={setAuthenticated}\n\t\t\t\tauthenticated={authenticated}\n\t\t\t\tauthenticate={authenticate}\n\t\t\t/>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/login\" exact={true}>\n\t\t\t\t\t<LoginForm\n\t\t\t\t\t\tsetAuthenticated={setAuthenticated}\n\t\t\t\t\t\tauthenticated={authenticated}\n\t\t\t\t\t/>\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"/signup\">\n\t\t\t\t\t<SignUpForm\n\t\t\t\t\t\tsetAuthenticated={setAuthenticated}\n\t\t\t\t\t\tauthenticated={authenticated}\n\t\t\t\t\t/>\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<LandingPage authenticated={authenticated} />\n\t\t\t\t</Route>\n\t\t\t\t<ProtectedRoute exact path=\"/documents\" authenticated={authenticated}>\n\t\t\t\t\t<DocumentEditor authenticate={authenticate} />\n\t\t\t\t</ProtectedRoute>\n\t\t\t\t<ProtectedRoute path=\"/documents/:id\" authenticated={authenticated}>\n\t\t\t\t\t<Document authenticate={authenticate} />\n\t\t\t\t</ProtectedRoute>\n\t\t\t\t<ProtectedRoute exact path=\"/directories\" authenticated={authenticated}>\n\t\t\t\t\t<Directories />\n\t\t\t\t</ProtectedRoute>\n\t\t\t</Switch>\n\t\t</BrowserRouter>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}